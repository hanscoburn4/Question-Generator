<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Assessment Builder</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/13.2.0/math.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <div class="header-section">
    <div class="title-input-section">
      <label for="customTitle">Assignment Title:</label>
      <input type="text" id="customTitle" placeholder="Enter assignment title (e.g., Chapter 1 Quiz)" value="SMWYK - Name: __________" />
      <button id="downloadPdfBtn" class="pdf-download-btn" title="Download assignment as PDF">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Download PDF
      </button>
    </div>
  </div>
  
  <!-- Builder Controls -->
  <div id="builderSection" class="section">
    <div class="row">
      <label for="courseSelect">Course</label>
      <select id="courseSelect"></select>
      <label for="difficultySelect">Difficulty</label>
      <select id="difficultySelect"><option value="">(any)</option></select>
    </div>

    <div class="row">
      <div style="flex:1">
        <div class="muted">Chapters (multi-select)</div>
        <div id="chapterContainer"></div>
      </div>

      <div style="width:300px">
        <div class="muted">Objectives</div>
        <select id="objectiveSelect" style="width:100%"></select>
      </div>
    </div>

    <div class="row">
      <button id="loadQuestions" class="small">Load Available Questions</button>
      <button id="addAllQuestionsTop" class="small hidden">Add All Questions</button>
      <button id="clearSelection" class="small">Clear Preview</button>
      <button id="generateAssignment" class="small">Generate Assignment</button>
    </div>
  </div>
    <!-- Layout Controls -->
    <div class="layout-controls">
      <h4>Assignment Layout</h4>
      <div class="row">
        <div class="control-group">
          <label>Question Layout:</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="questionColumns" value="1" checked>
              <span>1 Column</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="questionColumns" value="2">
              <span>2 Columns</span>
            </label>
          </div>
        </div>
        
        <div class="control-group">
          <label for="questionSpacing">Spacing Below Questions (px):</label>
          <input type="number" id="questionSpacing" min="10" max="100" value="20" step="5">
        </div>
      </div>
    </div>

  <!-- Question Lists and Preview -->
  <div id="questionList" class="section"></div>
  <div id="assignmentPreview" class="section"></div>

  
  
  <!-- Final Output -->
  <div id="output" class="section"></div>

  <!-- Edit Section -->
  <div id="editSection" class="section hidden">
    <button id="editButton">Edit Selection</button>
  </div>
  
  <!-- Scripts - Load in order -->
  <script src="js/core/question-generator.js"></script>
  <script src="js/utils/question-utils.js"></script>
  <script src="js/graphics/drawing-engine.js"></script>
  <script src="js/ui/ui-manager.js"></script>
  <script src="js/core/assessment-builder.js"></script>
  <script src="js/utils/pdf-generator.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
